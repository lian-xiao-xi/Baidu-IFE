{"version":3,"sources":["index/module_data.ts"],"names":[],"mappings":";;;IAGA;;;;OAIG;IACH,oBAA2B,OAAiB,EAAE,MAAgB;QAC5D,IAAI,OAAO,GAAiB,EAAE,CAAC;QAC/B,IAAI,aAAa,GAAG,OAAO,EAAE,CAAC;QAC9B,IAAI,cAAc,GAAG,mBAAU,CAAC,MAAM,EAAE,CAAC;QAEzC,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACxB,IAAI,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;gBACxC,OAAO,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC;YAChC,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACvB,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;oBAChC,OAAO,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC;gBAC/B,CAAC,CAAC,CAAC;gBACH,IAAG,KAAK,CAAC,MAAM,GAAC,CAAC,EAAE;oBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBACrB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;oBACpB,CAAC,CAAC,CAAC;oBACH,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAC,KAAK,EAAE,EAAE;wBACpC,IAAG,IAAI,CAAC,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;4BAClD,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;yBACjC;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;QAEF,cAAc,CAAC,OAAO,CAAC,UAAU,IAAI;YACnC,IAAI,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,QAAQ;gBAC3C,OAAO,QAAQ,KAAK,IAAI,CAAC,OAAO,CAAC;YACrC,CAAC,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,QAAQ;gBAChC,OAAO,QAAQ,KAAK,IAAI,CAAC,MAAM,CAAC;YACpC,CAAC,CAAC,CAAC;YACH,IAAI,SAAS,EAAE;gBACX,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACtB;QACL,CAAC,CAAC,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,CAAA;QACrC,OAAO,OAAO,CAAC;IACjB,CAAC;IAtCD,gCAsCC;IAED;;OAEG;IACH;QACE,IAAI,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAA;QACvD,OAAO,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAC3D,CAAC","file":"../../index/module_data.js","sourcesContent":["import sourceData from '../common/ife31data'\r\nimport {dataFormat} from '../common/common'\r\n\r\n/**\r\n * 获取用来渲染表格的数据\r\n * @param product checkbox所选的产品种类集合\r\n * @param region checkbox所选择的地区集合\r\n */\r\nexport function resultData(product: string[], region: string[]): dataFormat[] {\r\n  let resList: dataFormat[] = [];\r\n  let localDataList = getData();\r\n  let sourceDataList = sourceData.concat();\r\n\r\n  product.forEach((pItem) => {\r\n    let pList = localDataList.filter((item) => {\r\n      return item.product === pItem;\r\n    });\r\n    region.forEach((rItem) => {\r\n      let rList = pList.filter((item) => {\r\n        return item.region === rItem;\r\n      });\r\n      if(rList.length>0) {\r\n        rList.forEach((item) => {\r\n          resList.push(item)\r\n        });\r\n        sourceDataList.forEach((item,index) => {\r\n          if(item.product === pItem && item.region === rItem) {\r\n            sourceDataList.splice(index, 1);\r\n          }\r\n        });\r\n      }\r\n    })\r\n  })\r\n\r\n  sourceDataList.forEach(function (item) {\r\n    var filterRes = product.some(function (dataItem) {\r\n        return dataItem === item.product;\r\n    }) && region.some(function (dataItem) {\r\n        return dataItem === item.region;\r\n    });\r\n    if (filterRes) {\r\n        resList.push(item);\r\n    }\r\n});\r\n  console.log('resList ---> ', resList)\r\n  return resList;\r\n}\r\n\r\n/**\r\n * 获取浏览器客户端存储的数据\r\n */\r\nfunction getData(): dataFormat[] {\r\n  let local_data = localStorage.getItem('ife_table_data')\r\n  return local_data === null ? [] : JSON.parse(local_data);  \r\n}\r\n"]}