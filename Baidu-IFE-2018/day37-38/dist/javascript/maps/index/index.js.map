{"version":3,"sources":["index/index.js"],"names":["define","require","exports","common_1","module_checkbox_1","module_render_1","module_edit_1","Object","defineProperty","value","inspectState","bindClickHandle","document","getElementById","historyState","window","history","state","prototype","toString","call","checkboxState","console","log","times","key","hasOwnProperty","element","Array","isArray","groupWrappper","getEle","checkCheckbox","from","forEach","item","checked","checkGroup","checkbox","input","trim","renderData","formChangeHandle","editData","addEventListener","event","targetEle","target","tagName","toLocaleLowerCase","getAttribute","replaceState","getCheckVal","title","saveData"],"mappings":"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","file":"../../index/index.js","sourcesContent":["define([\"require\", \"exports\", \"../common/common\", \"./module_checkbox\", \"./module_render\", \"./module_edit\"], function (require, exports, common_1, module_checkbox_1, module_render_1, module_edit_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    inspectState();\n    module_checkbox_1.bindClickHandle(document.getElementById('region-radio-wrapper'));\n    module_checkbox_1.bindClickHandle(document.getElementById('product-radio-wrapper'));\n    function inspectState() {\n        const historyState = window.history.state;\n        if (Object.prototype.toString.call(historyState) === '[object Object]' && historyState.checkboxState) {\n            let state = historyState.checkboxState;\n            console.log('url 状态 ---> ', state);\n            // 下面注释的部分应该有问题\n            let times = 0;\n            for (const key in state) {\n                if (state.hasOwnProperty(key)) {\n                    const element = state[key];\n                    if (Array.isArray(element)) {\n                        const groupWrappper = common_1.getEle(document, '#page-form .radio-wrapper')[times];\n                        checkCheckbox(element, Array.from(common_1.getEle(groupWrappper, '.checkbox-group')));\n                        times++;\n                    }\n                }\n            }\n        }\n        else {\n            common_1.getEle(document, '#page-form .radio-wrapper').forEach(item => {\n                common_1.getEle(item, '.checkbox-group input[type=\"checkbox\"]')[0].checked = true;\n            });\n        }\n    }\n    function checkCheckbox(state, checkGroup) {\n        for (const item of state) {\n            for (const checkbox of checkGroup) {\n                let input = common_1.getEle(checkbox, 'input[type=\"checkbox\"]')[0];\n                if (input.value.trim() === item) {\n                    input.checked = true;\n                }\n            }\n        }\n    }\n    module_render_1.renderData();\n    formChangeHandle();\n    module_edit_1.editData();\n    /**\n     * 给页面中的元素绑定相关事件\n     */\n    function formChangeHandle() {\n        // 给form表单绑定change事件\n        common_1.getEle(document, '#page-form')[0].addEventListener('change', function (event) {\n            const targetEle = event.target;\n            if (targetEle.tagName.toLocaleLowerCase() !== 'input' || targetEle.getAttribute('type') !== 'checkbox') {\n                return;\n            }\n            window.history.replaceState({ checkboxState: module_render_1.getCheckVal() }, document.title, '');\n            module_render_1.renderData();\n            module_edit_1.editData();\n        });\n        // 给保存按钮绑定click事件\n        common_1.getEle(document, '#save-table')[0].addEventListener('click', function (event) {\n            module_edit_1.saveData();\n        });\n        // 给取消按钮绑定click事件\n        common_1.getEle(document, '#esc-save')[0].addEventListener('click', function () {\n            module_render_1.renderData();\n        });\n    }\n});\n\n//# sourceMappingURL=../maps/index/index.js.map\n"]}