{"version":3,"sources":["index/module_render.js"],"names":["define","require","exports","common_1","module_data_1","Object","defineProperty","value","getCheckVal","result","region","product","Array","from","getEle","document","filter","item","checked","forEach","classList","contains","push","console","log","renderData","formData","headerData","innerHTML","table","createElement","className","appendChild","pLen","length","rLen","render","howShow","bodyData","resultData","varyArr","theadStr","tbodyStr","itemData","index","sale","saleItem"],"mappings":"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","file":"../../index/module_render.js","sourcesContent":["define([\"require\", \"exports\", \"../common/common\", \"./module_data\"], function (require, exports, common_1, module_data_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    /**\n     * 获取checkbox所选择的数据\n     */\n    function getCheckVal() {\n        let result = {\n            region: [],\n            product: []\n        };\n        Array.from((common_1.getEle(document, 'input[data-check=\"item\"]'))).filter((item) => {\n            return item.checked === true;\n        }).forEach((item) => {\n            if (item.classList.contains('region-checkbox')) {\n                result.region.push(item.value);\n            }\n            else if (item.classList.contains('product-checkbox')) {\n                result.product.push(item.value);\n            }\n        });\n        console.log(result);\n        return result;\n    }\n    exports.getCheckVal = getCheckVal;\n    /**\n     * 渲染表格\n     */\n    function renderData() {\n        let formData = getCheckVal();\n        let headerData = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];\n        common_1.getEle(document, '.table-wrapper')[0].innerHTML = '';\n        let table = document.createElement('table');\n        table.className = 'data-table';\n        common_1.getEle(document, '.table-wrapper')[0].appendChild(table);\n        const product = formData.product, region = formData.region;\n        const pLen = product.length, rLen = region.length;\n        if (pLen === 1 && rLen === 1) {\n            render(true);\n        }\n        else if (pLen === 1 && rLen > 1) {\n            render(true);\n        }\n        else if (pLen > 1 && rLen === 1) {\n            render(false);\n        }\n        else if (pLen > 1 && rLen > 1) {\n            render(true);\n        }\n        // 参数 howShow 用于设置 地区 和 商品 两栏的前后顺序\n        function render(howShow) {\n            let bodyData = module_data_1.resultData(product, region);\n            let varyArr = howShow ? ['商品', '地区'] : ['地区', '商品'];\n            let theadStr = `<thead class=\"data-thead\"><tr class=\"thead-tr\">`;\n            varyArr.forEach((item) => {\n                theadStr += `<th class=\"thead-td\" data-type=\"${item}\">${item}</th>`;\n            });\n            headerData.forEach((item) => {\n                theadStr += `<th class=\"thead-td\" data-month=\"${item}\">${item}</th>`;\n            });\n            theadStr += '</tr></thead>';\n            let tbodyStr = '<tbody class=\"data-tbody\">';\n            bodyData.forEach((itemData, index) => {\n                tbodyStr += '<tr class=\"tbody-tr\">';\n                if (howShow) {\n                    if (index % rLen === 0) {\n                        tbodyStr += `<td class=\"tbody-td\" rowspan=\"${rLen}\">${itemData.product}</td>`;\n                    }\n                    else {\n                        tbodyStr += `<td class=\"tbody-td\" style=\"display:none;\">${itemData.product}</td>`;\n                    }\n                    tbodyStr += `<td class=\"tbody-td\">${itemData.region}</td>`;\n                }\n                else {\n                    if (index % pLen === 0) {\n                        tbodyStr += `<td class=\"tbody-td\" rowspan=\"${pLen}\">${itemData.region}</td>`;\n                    }\n                    else {\n                        tbodyStr += `<td class=\"tbody-td\" style=\"display:none;\">${itemData.region}</td>`;\n                    }\n                    tbodyStr += `<td class=\"tbody-td\">${itemData.product}</td>`;\n                }\n                itemData.sale.forEach((saleItem => {\n                    tbodyStr += `<td><span data-id=\"edit\" class=\"show\">${saleItem}</span><img src=\"./assets/images/edit.png\" class=\"img\" data-id=\"edit\"><input type=\"text\" class=\"edit-input\" value=\"${saleItem}\"></td>`;\n                }));\n                tbodyStr += '</tr>';\n            });\n            tbodyStr += '</tbody>';\n            table.innerHTML = theadStr + tbodyStr;\n        }\n    }\n    exports.renderData = renderData;\n});\n\n//# sourceMappingURL=../maps/index/module_render.js.map\n"]}