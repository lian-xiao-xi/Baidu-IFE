<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE-2016 task 14</title>
  </head>
<body>

  <h3>空气质量指数大于60的污染城市列表</h3>
  <ul id="aqi-list">
<!--   
    <li>第一名：福州（样例），10</li>
  	<li>第二名：福州（样例），10</li> -->
  </ul>

<script type="text/javascript">
let aqiData = [
  ["北京", 90],
  ["上海", 50],
  ["福州", 10],
  ["广州", 50],
  ["成都", 90],
  ["西安", 100],
  ["郑州",75],
  ["青岛",65],
  ["武汉",85]
];

(function () {
    let sort = ['一','二','三','四','五','六','七','八'];
    let listEle = document.getElementById('aqi-list');
    let htmlStr = ``;
    let dataArr = aqiData.concat();
    let resultArr = dataArr.filter((item, index, arr) => item[1] >= 60).sort((a,b) => b[1]-a[1]);
    console.log(resultArr);
    /**
     * 添加 DOM 结构的第一种方法，使用数组的 forEach() 方法
     */
    resultArr.forEach(function (item, index, arr){
        // let domEle = document.createElement('li');
        // domEle.textContent = `第${sort[index]}名：${item[0]}，${item[1]}`;
        // listEle.appendChild(domEle);

        htmlStr += `<li>第${sort[index]}名：${item[0]}，${item[1]}</li>`;
    });
    listEle.innerHTML = htmlStr;

    /**
     * 添加 DOM 结构的第二种方法，使用数组的 map() 方法
     */
    
    // htmlStr = resultArr.map((item, index) => `<li>第${sort[index]}名：${item[0]}，${item[1]}</li>`).join('');
    // 或者下面这个语句也行
    // htmlStr = resultArr.map((item, index) => `<li>第${sort[index]}名：${item[0]}，${item[1]}</li>`).reduce((pre, cur, index) => pre + cur);

    // listEle.innerHTML = htmlStr;
})();
</script>
</body>
</html>